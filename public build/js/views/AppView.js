define(["text!../../templates/footer.html","Router","views/NavbarView","views/PageView","collections/Pages","views/ChatboxView","models/Chatbox"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({el:$("#iqtest"),footerTemplate:_.template(e),events:{},initialize:function(){this.header=$("header"),this.footer=$("footer"),this.main=$("#main"),this.sidebar=$("#sidebar"),Backbone.history.start(),this.pages=new i,console.log(this.pages),this.pageView=new r({pages:this.pages}),this.router=new t(this.pageView),this.main.html(this.pageView.$el),this.navbarView=new n({pages:this.pages,router:this.router}),this.header.html(this.navbarView.render().el),this.chatboxModel=new o,this.chatboxView=new s({model:this.chatboxModel}),this.sidebar.append(this.chatboxView.render().$el),this.render();var e=Backbone.history.fragment?Backbone.history.fragment:"home";this.navbarView.setActive(e),this.router.navigate("#/"+e,!0)},changeImg:function(e){$("#project #body #main-img").attr("src",e.target.src)},render:function(){this.footer.html(this.footerTemplate())},scroll:function(e){}});return u});